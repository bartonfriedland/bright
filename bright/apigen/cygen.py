"""Generates a Cython wrapper for various Bright classes from either
description dictionaries or from header files.
"""

_cpppxd_template = \
"""################################################
#                 Warning!                     #
# This file has been auto-generated by Bright. #
# Do not modify!!!                             #
#                                              #
#                                              #
#                    Come on, guys. I mean it! #
################################################

cdef extern from "{header_filename}" namespace "{namespace}":

    cdef cppclass {name}({parents_csv}):
"""


def gencpppxd(desc):
    """Generates a cpp_*.pxd Cython header file for exposing C/C++ data from to 
    other Cython wrappers based off of a dictionary (desc)ription.
    """
    d = dict(desc.items())
    d['parents_csv'] = ', '.join(d['parents'])
    cpppxd = _cpppxd_template.format(**d)
    return cpppxd
    
